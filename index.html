<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Website</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.1/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-900 text-white">
  <!-- Header -->
  <header class="p-6 bg-gray-800">
    <h1 class="text-3xl font-bold text-cyan-400 text-center">My Static Website</h1>
  </header>

  <!-- Main Content -->
  <main class="space-y-24 py-12 px-4">

    <!-- Hero Section -->
    <section id="hero" class="text-center">
      <h2 class="text-5xl font-bold mb-4">Welcome to My Site</h2>
      <p class="text-lg text-gray-300">Explore projects, blogs, and more!</p>
    </section>

    <!-- Blog Section -->
    <section id="blog" class="scroll-section">
      <h3 class="text-4xl font-bold text-cyan-400 mb-10 text-center">Blog</h3>
      <div id="blogContent" class="max-w-4xl mx-auto space-y-8 text-gray-300">
        <p>Loading blog posts...</p>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="text-center">
      <h3 class="text-3xl font-bold text-cyan-400 mb-4">Contact</h3>
      <p class="text-gray-300">Email: example@example.com</p>
    </section>
  </main>

  <!-- Footer -->
  <footer class="p-6 text-center bg-gray-800 text-gray-400">
    &copy; 2025 My Static Site
  </footer>

  <!-- Firebase Blog Script -->
  <script type="module">
    // Firebase SDK
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";

    // ðŸ”§ Replace with your actual Firebase config
    const firebaseConfig = {
       apiKey: "AIzaSyDMQ4ke96sypMT-nCze8zVS8Ps_Zrqrv20",
  authDomain: "my-dashboard-cms.firebaseapp.com",
  projectId: "my-dashboard-cms",
  storageBucket: "my-dashboard-cms.firebasestorage.app",
  messagingSenderId: "29278844298",
  appId: "1:29278844298:web:3a9a85063b3504ced88473",
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const blogContainer = document.getElementById("blogContent");

    async function loadBlogPosts() {
      try {
        const blogRef = collection(db, "blogPosts");
        const blogQuery = query(blogRef, orderBy("createdAt", "desc"));
        const blogSnapshot = await getDocs(blogQuery);

        if (blogSnapshot.empty) {
          blogContainer.innerHTML = "<p>No blog posts found.</p>";
          return;
        }

        let html = "";
        blogSnapshot.forEach((doc) => {
          const post = doc.data();
          const date = post.createdAt?.seconds
            ? new Date(post.createdAt.seconds * 1000).toLocaleDateString()
            : "Unknown date";
          html += `
            <div class="p-6 bg-gray-800 rounded-xl shadow-md">
              <h4 class="text-2xl font-semibold text-white mb-2">${post.title}</h4>
              <p class="text-sm text-gray-400 mb-4">${date}</p>
              <div class="text-gray-300 whitespace-pre-wrap">${post.content}</div>
            </div>
          `;
        });

        blogContainer.innerHTML = html;
      } catch (error) {
        blogContainer.innerHTML = "<p class='text-red-500'>Failed to load blog posts.</p>";
        console.error("Error fetching blog posts:", error);
      }
    }

    loadBlogPosts();
  </script>
</body>

</html>
